import{r as c,j as e}from"./index-BVcK7YPk.js";const p=new Date,T={today:[{timeLabel:"09:30",value:0},{timeLabel:"10:00",value:1200},{timeLabel:"10:30",value:800},{timeLabel:"11:00",value:2e3},{timeLabel:"11:30",value:1500},{timeLabel:"12:00",value:2600}],week:[{timeLabel:"Mon",value:500},{timeLabel:"Tue",value:-300},{timeLabel:"Wed",value:2100},{timeLabel:"Thu",value:1800},{timeLabel:"Fri",value:3200}],month:[{timeLabel:"W1",value:-800},{timeLabel:"W2",value:1200},{timeLabel:"W3",value:3400},{timeLabel:"W4",value:5100}]},k=[{id:"T1",timestamp:new Date(p.getTime()-5*60*1e3).toISOString(),symbol:"NSE:RELIANCE",side:"BUY",qty:50,price:2950,broker:"Dhan",strategy:"Opening Range Breakout",pnl:850},{id:"T2",timestamp:new Date(p.getTime()-25*60*1e3).toISOString(),symbol:"NSE:NIFTY24APRFUT",side:"SELL",qty:75,price:22650,broker:"Angel One",strategy:"Index Scalper",pnl:-300},{id:"T3",timestamp:new Date(p.getTime()-2*60*60*1e3).toISOString(),symbol:"NSE:BANKNIFTY24APR48000CE",side:"BUY",qty:40,price:185,broker:"Zerodha",strategy:"Options Trend Follower",pnl:1200},{id:"T4",timestamp:new Date(p.getTime()-26*60*60*1e3).toISOString(),symbol:"MCX:GOLDM",side:"SELL",qty:10,price:76e3,broker:"Motilal Oswal",strategy:"Commodity Swing",pnl:500}],N=[{id:"P1",symbol:"NSE:RELIANCE",side:"LONG",qty:50,avgPrice:2900,currentPrice:2955,unrealizedPnl:2750},{id:"P2",symbol:"NSE:NIFTY24APRFUT",side:"SHORT",qty:25,avgPrice:22720,currentPrice:22680,unrealizedPnl:1e3}],L=[{id:"S1",name:"Opening Range Breakout",status:"active",signalsToday:12,winRate:71},{id:"S2",name:"Index Scalper",status:"paused",signalsToday:5,winRate:60},{id:"S3",name:"Options Trend Follower",status:"active",signalsToday:8,winRate:64}],y=[{id:"B1",broker:"Motilal Oswal",accountId:"MO-12345",balance:15e4,marginUsed:45e3,status:"connected"},{id:"B2",broker:"Zerodha",accountId:"ZD-88721",balance:85e3,marginUsed:25e3,status:"connected"},{id:"B3",broker:"Dhan",accountId:"DH-55102",balance:45e3,marginUsed:5e3,status:"expired"}];function v(t){return`â‚¹${t.toLocaleString("en-IN",{maximumFractionDigits:0})}`}function f(t){return`${t>=0?"+":"â€“"}â‚¹${Math.abs(t).toLocaleString("en-IN",{maximumFractionDigits:0})}`}function P(t,d){const r=new Date(t),i=(p.getTime()-r.getTime())/(1e3*60*60);return d==="today"?r.toDateString()===p.toDateString():d==="week"?i<=24*7:i<=24*30}const M=({data:t})=>{if(!t.length)return null;const d=260,r=80,h=8,i=8,u=t.map((n,a)=>h+a*(d-2*h)/Math.max(t.length-1,1)),l=(()=>{const n=t.map(x=>x.value),a=Math.min(...n),g=Math.max(...n),j=g===a?1:g-a;return n.map(x=>r-i-(x-a)*(r-2*i)/j)})(),b=u.map((n,a)=>`${a===0?"M":"L"} ${n} ${l[a]}`).join(" ");return e.jsxs("svg",{viewBox:`0 0 ${d} ${r}`,className:"w-full h-20 text-emerald-400",children:[e.jsx("path",{d:b,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.map((n,a)=>e.jsx("circle",{cx:n,cy:l[a],r:2.5,className:"fill-current"},a))]})},O=()=>{const[t,d]=c.useState("today"),[r,h]=c.useState(L),[i,u]=c.useState(!1),l=c.useMemo(()=>k.filter(s=>P(s.timestamp,t)),[t]),b=c.useMemo(()=>l.reduce((s,m)=>s+m.pnl,0),[l]),n=l.length,a=c.useMemo(()=>{if(!l.length)return 0;const s=l.filter(m=>m.pnl>0).length;return Math.round(s/l.length*100)},[l]),g=N.length,j=r.filter(s=>s.status==="active").length,x=c.useMemo(()=>i?l.filter(s=>s.pnl>0):l,[l,i]),w=s=>{h(m=>m.map(o=>o.id===s?{...o,status:o.status==="active"?"paused":"active"}:o))},S=T[t];return e.jsxs("div",{className:"min-h-screen px-6 pt-16  md:pt-28 bg-slate-950 text-slate-100 px-4 py-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-emerald-400 mb-1",children:"Trading Dashboard"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-semibold",children:"Welcome back, Trader ðŸ‘‹"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Live overview of your copy trading performance & risk."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-slate-900/70 border border-slate-800 px-3 py-1.5",children:[e.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full bg-emerald-400 animate-pulse"}),e.jsxs("span",{className:"text-xs font-medium text-slate-200",children:["Master Stream: ",e.jsx("span",{className:"text-emerald-400",children:"Connected"})]})]}),e.jsx("div",{className:"flex items-center rounded-full bg-slate-900/70 border border-slate-800 p-1 text-xs",children:["today","week","month"].map(s=>e.jsx("button",{onClick:()=>d(s),className:`px-3 py-1 rounded-full capitalize transition ${t===s?"bg-emerald-400 text-slate-950 font-semibold shadow-sm":"text-slate-300 hover:bg-slate-800"}`,children:s==="today"?"Today":s==="week"?"This Week":"This Month"},s))})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4 mb-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-emerald-500/20 bg-gradient-to-br from-slate-900 to-slate-950 p-5 shadow-xl shadow-emerald-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("p",{className:"text-xs font-medium text-slate-400 flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-flex h-1.5 w-1.5 rounded-full bg-emerald-400"}),"Net P&L (",t==="today"?"Today":t==="week"?"This Week":"This Month",")"]}),e.jsx("span",{className:"text-[10px] uppercase tracking-[0.15em] text-emerald-300/80 bg-emerald-500/10 rounded-full px-2 py-0.5",children:"Live"})]}),e.jsx("div",{className:"flex items-baseline gap-1",children:e.jsx("p",{className:`text-2xl font-semibold ${b>=0?"text-emerald-400":"text-red-400"}`,children:f(b)})}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["From ",l.length," closed trades"]}),e.jsx("div",{className:"mt-4",children:e.jsx(M,{data:S})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1",children:"Win Rate"}),e.jsx("div",{className:"flex items-end gap-2 mb-2",children:e.jsxs("p",{className:"text-2xl font-semibold text-emerald-400",children:[a,"%"]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"h-2 w-full rounded-full bg-slate-800 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-emerald-400 to-emerald-300",style:{width:`${Math.min(a,100)}%`}})}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:a>=60?"Good edge. Keep your risk under control.":"Focus on refining entries & exits."})]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1",children:"Total Trades"}),e.jsx("p",{className:"text-2xl font-semibold text-slate-100",children:n}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Executed in this timeframe across all brokers."}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 text-[11px] text-slate-300",children:[e.jsxs("span",{className:"rounded-full bg-slate-800 px-2 py-1",children:["Active strategies:"," ",e.jsx("span",{className:"text-emerald-400 font-medium",children:j})]}),e.jsxs("span",{className:"rounded-full bg-slate-800 px-2 py-1",children:["Brokers:"," ",e.jsx("span",{className:"text-emerald-400 font-medium",children:y.length})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1",children:"Running Positions"}),e.jsx("p",{className:"text-2xl font-semibold text-slate-100",children:g}),e.jsx("ul",{className:"mt-3 space-y-1.5 text-xs text-slate-300",children:N.map(s=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("span",{children:[s.symbol," ",e.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-[10px] ${s.side==="LONG"?"bg-emerald-500/10 text-emerald-300":"bg-red-500/10 text-red-300"}`,children:s.side})]}),e.jsx("span",{className:`font-medium ${s.unrealizedPnl>=0?"text-emerald-400":"text-red-400"}`,children:f(s.unrealizedPnl)})]},s.id))})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-5 mb-6",children:[e.jsxs("div",{className:"lg:col-span-3 rounded-2xl border border-slate-800 bg-slate-900/70 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 uppercase tracking-[0.15em] mb-1",children:"Strategies"}),e.jsx("h2",{className:"text-sm font-semibold text-slate-100",children:"Live Strategy Control"})]}),e.jsxs("div",{className:"text-[11px] text-slate-400",children:["Active:"," ",e.jsx("span",{className:"text-emerald-400 font-semibold",children:j})," / ",r.length]})]}),e.jsx("div",{className:"space-y-3",children:r.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950/70 px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-100",children:s.name}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-0.5",children:["Signals today:"," ",e.jsx("span",{className:"font-semibold text-slate-200",children:s.signalsToday})," ","â€¢ Win rate:"," ",e.jsxs("span",{className:"font-semibold text-emerald-400",children:[s.winRate,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`flex items-center gap-1 text-[11px] ${s.status==="active"?"text-emerald-400":"text-slate-400"}`,children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${s.status==="active"?"bg-emerald-400":"bg-slate-500"}`}),s.status==="active"?"Running":"Paused"]}),e.jsx("button",{onClick:()=>w(s.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition ${s.status==="active"?"bg-emerald-400/90":"bg-slate-700"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-slate-950 shadow transition ${s.status==="active"?"translate-x-6":"translate-x-1"}`})})]})]},s.id))})]}),e.jsxs("div",{className:"lg:col-span-2 rounded-2xl border border-slate-800 bg-slate-900/70 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-400 uppercase tracking-[0.15em] mb-1",children:"Accounts"}),e.jsx("h2",{className:"text-sm font-semibold text-slate-100",children:"Connected Brokers"})]}),e.jsx("button",{className:"text-[11px] rounded-full bg-emerald-500/10 px-3 py-1 text-emerald-300 hover:bg-emerald-500/20 transition",children:"+ Add Account"})]}),e.jsx("div",{className:"space-y-3",children:y.map(s=>e.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/70 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-100",children:s.broker}),e.jsx("p",{className:"text-[11px] text-slate-400",children:s.accountId})]}),e.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full ${s.status==="connected"?"bg-emerald-500/10 text-emerald-300":s.status==="expired"?"bg-amber-500/10 text-amber-300":"bg-red-500/10 text-red-300"}`,children:s.status==="connected"?"Connected":s.status==="expired"?"Session Expired":"Error"})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-slate-300",children:[e.jsxs("span",{children:["Balance:"," ",e.jsx("span",{className:"font-semibold text-slate-100",children:v(s.balance)})]}),e.jsxs("span",{children:["Margin used:"," ",e.jsx("span",{className:"font-semibold text-slate-100",children:v(s.marginUsed)})]})]})]},s.id))})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-5",children:[e.jsxs("div",{className:"lg:col-span-2 rounded-2xl border border-slate-800 bg-slate-900/70 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-100",children:"Open Positions"}),e.jsx("span",{className:"text-[11px] text-slate-400",children:"MTM auto-refresh (demo)"})]}),e.jsxs("div",{className:"space-y-3",children:[N.map(s=>e.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/70 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-100",children:s.symbol}),e.jsxs("p",{className:"text-[11px] text-slate-400",children:["Qty:"," ",e.jsx("span",{className:"font-semibold text-slate-200",children:s.qty})," ","â€¢ Avg:"," ",e.jsx("span",{className:"font-semibold text-slate-200",children:s.avgPrice})," ","â€¢ LTP:"," ",e.jsx("span",{className:"font-semibold text-slate-200",children:s.currentPrice})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] ${s.side==="LONG"?"bg-emerald-500/10 text-emerald-300":"bg-red-500/10 text-red-300"}`,children:s.side})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px]",children:[e.jsx("span",{className:"text-slate-400",children:"Unrealized P&L:"}),e.jsx("span",{className:`font-semibold ${s.unrealizedPnl>=0?"text-emerald-400":"text-red-400"}`,children:f(s.unrealizedPnl)})]})]},s.id)),N.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"No open positions right now."})]})]}),e.jsxs("div",{className:"lg:col-span-3 rounded-2xl border border-slate-800 bg-slate-900/70 p-5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-100",children:"Recent Trades"}),e.jsx("p",{className:"text-[11px] text-slate-400",children:"Filtered by timeframe & profitability (demo)."})]}),e.jsxs("label",{className:"flex items-center gap-2 text-[11px] text-slate-300",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:s=>u(s.target.checked),className:"h-3 w-3 rounded border-slate-600 bg-slate-900 text-emerald-400 focus:ring-emerald-500"}),"Only profitable"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-800 text-[11px] uppercase tracking-[0.12em] text-slate-400",children:[e.jsx("th",{className:"py-2 pr-4 text-left",children:"Time"}),e.jsx("th",{className:"py-2 pr-4 text-left",children:"Symbol"}),e.jsx("th",{className:"py-2 pr-4 text-left",children:"Side"}),e.jsx("th",{className:"py-2 pr-4 text-right",children:"Qty"}),e.jsx("th",{className:"py-2 pr-4 text-right",children:"Price"}),e.jsx("th",{className:"py-2 pr-4 text-left",children:"Broker"}),e.jsx("th",{className:"py-2 pr-4 text-left",children:"Strategy"}),e.jsx("th",{className:"py-2 pl-4 text-right",children:"P&L"})]})}),e.jsxs("tbody",{children:[x.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"py-6 text-center text-slate-500 text-xs",children:"No trades in this filter."})}),x.map(s=>{const o=new Date(s.timestamp).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return e.jsxs("tr",{className:"border-b border-slate-900/80 hover:bg-slate-900/60 transition",children:[e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap text-slate-300",children:o}),e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap text-slate-100",children:s.symbol}),e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-semibold ${s.side==="BUY"?"bg-emerald-500/10 text-emerald-300":"bg-red-500/10 text-red-300"}`,children:s.side})}),e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap text-right text-slate-200",children:s.qty}),e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap text-right text-slate-200",children:s.price.toLocaleString("en-IN")}),e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap text-slate-300",children:s.broker}),e.jsx("td",{className:"py-2 pr-4 whitespace-nowrap text-slate-300",children:s.strategy}),e.jsx("td",{className:`py-2 pl-4 whitespace-nowrap text-right font-semibold ${s.pnl>=0?"text-emerald-400":"text-red-400"}`,children:f(s.pnl)})]},s.id)})]})]})})]})]})]})};export{O as default};
