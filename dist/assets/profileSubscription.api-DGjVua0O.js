import{c as a,n as u}from"./index-D7C0lGH-.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],y=a("credit-card",c),l="/admin",r=t=>`${l}${t}`.replace(/\/{2,}/g,"/");function p(t){var e,i,o,s;if(!t)return null;const n=((i=(e=import.meta)==null?void 0:e.env)==null?void 0:i.VITE_PUBLIC_API_URL)||((s=(o=import.meta)==null?void 0:o.env)==null?void 0:s.VITE_API_URL)||(typeof window<"u"?window.location.origin:"");return`${String(n).replace(/\/$/,"")}/webhooks/tradingview/${t}`}const d=u.injectEndpoints({endpoints:t=>({getMyCurrentSubscription:t.query({query:()=>({url:"/subscription/current",method:"GET"}),transformResponse:n=>{const e=(n==null?void 0:n.data)??null;if(!e)return n;const i=e.webhookToken??null;return{...n,data:{...e,webhookUrl:p(i)}}},providesTags:["UserSubscription"]}),subscribeToPlan:t.mutation({query:n=>({url:"/subscription/subscribe",method:"POST",body:n}),invalidatesTags:["UserSubscription"]}),cancelMySubscription:t.mutation({query:n=>({url:r("/subscription/cancel"),method:"POST",body:n}),invalidatesTags:["UserSubscription"]}),listActivePlans:t.query({query:n=>({url:r("/plans/subscription-plan/all"),method:"GET",params:n??void 0}),providesTags:["SubscriptionPlan"]}),getPlanById:t.query({query:n=>({url:r(`/plans/subscription-plan/${n}`),method:"GET"}),providesTags:(n,e,i)=>[{type:"SubscriptionPlan",id:i}]})}),overrideExisting:!1}),{useGetMyCurrentSubscriptionQuery:m,useSubscribeToPlanMutation:T,useGetPlanByIdQuery:g}=d;export{y as C,g as a,T as b,m as u};
